<!DOCTYPE html>
<html lang="en" ng-app="eventsApp" ng-strict-di>

<head>
    <meta charset="UTF-8">
    <title>Event Registration</title>
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/bootstrap-theme.css">
    <link rel="stylesheet" href="css/app.css">
</head>

<body ng-cloak>

    <div ng-include="'templates/Nav.html'"></div>

    <div class="container">

        <div ng-controller="EventController">
            <div class="row">
                <img ng-src="{{ event.imageUrl }}" alt="{{ event.name }}">
                
                <button type="button" class="btn btn-large btn-primary" ng-click="scrollToSession()">Scroll</button>
                
            </div>
            <div class="row vertical-align">
                <div class="col-sm-6">
                    <h2 ng-style="redColor" ng-bind="event.name | uppercase"></h2>
                </div>
                <div class="col-sm-2">
                    <button class="btn" ng-disabled="!available" ng-show="available">Register</button>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-3">
                    <strong>Date: </strong>{{ event.date | date:'mediumDate' }}<br>
                    <strong>Time: </strong>{{ event.time }}<br>
                    <strong>Price: </strong>{{ event.price | currency }}
                </div>

                <div class="col-sm-8 col-sm-offset-1">
                    <address>
                        <strong>Address:</strong><br>
                        {{ event.location.address }}<br>
                        {{ event.location.city }}
                    </address>
                </div>
            </div>

            <hr>

            <div class="row vertical-align">
                <h3 class='col-sm-2'>Sessions: </h3>
                <div class="col-sm-3 col-sm-offset-8">
                    Show:
                    <select ng-model="query.level" class="input-medium">
                    <option value="" selected>All</option>
                    <option value="Introductory">Introductory</option>
                    <option value="Intermediate">Intermediate</option>
                    <option value="Advanced">Advanced</option>
                </select>
                </div>

            </div>
            <br>
            <ul class="list-unstyled">
                <li ng-repeat="session in event.sessions | orderBy:'-upVoteCount' | filter:query" id="session{{session.id}}">
                    <div class="row">
                        <div class="col-sm-1 text-center">
                            <div class='up-vote' ng-click="upVoteSession(session)">
                                <i class="glyphicon glyphicon-chevron-up"></i>
                            </div>
                            <div class="badge badge-inverse">{{ session.upVoteCount }}</div>
                            <div class='down-vote' ng-click="downVoteSession(session)">
                                <i class="glyphicon glyphicon-chevron-down"></i>
                            </div>
                        </div>
                        <div class="well col-sm-11">
                            <h4 class="well-title text-primary">{{ session.name }}</h4>
                            <h6>{{ session.creatorName }}</h6>
                            <span>Duration: {{ session.duration | duration }}</span><br>
                            <span>Level: <span ng-bind-html="session.level | levelBadge | unsafe"></span></span>

                            <p class="text-muted">{{ session.abstract }}</p>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </div>

    <script src="lib/jquery.min.js"></script>
    <script src="lib/underscore-1.4.4.min.js"></script>
    <script src="lib/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-route.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-resource.js"></script>
    <script src="lib/angular/angular-sanitize.js"></script>
    <script src="js/app.js"></script>
    <script src="js/controllers/EventController.js"></script>
    <script src="js/filters.js"></script>
    <script src="js/services/EventData.js"></script>
</body>

</html>